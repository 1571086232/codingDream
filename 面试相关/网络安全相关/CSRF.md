## XSS定义
CSRF（Cross Site Request Forgery），跨站点请求伪造。CSRF攻击者在用户已经登录目标网站后，再诱使用户访问一个攻击网站。利用目标网站对用户的信任，以用户的身份，在攻击网站对目标网站发起伪造用户操作的请求，达到攻击目的。

## 举例
1. 用户C登录信任网站A
2. A网站验证通过，在用户C上产生A网站的Cookie
3. 用户C在没有登出A网站的情况下，访问危险网站B
4. B网站要求用户C访问第三方站点A，并发出请求
5. 根据B网站的请求，浏览器带着(2)处产生的Cookie访问A
6. A不知道该请求是谁发出的，但是由于浏览器会自动带上Cookie来进行请求，所以A会根据用户权限处理(4)的请求
   这样就达到了模拟用户操作的目的。

> 所以完成一次CSRF攻击，需要两个步骤：
> 1. 登录信任网站A，并保存Cookie
> 2. 在不登出A的情况下，访问危险网站B

## 防御
1. 少用get请求
2. Cookie Hashing
  - 在表单里增加hash值，以确保这是用户发送的请求。
  - 然后在服务端进行hash验证
3. 验证码
4. 服务端核对令牌